$("#new-comment-form").on("submit",(function(e){e.preventDefault();const t=$(this).find("button[type=submit]:focus");if(null==t||null===t||0===t.length)return;if(""===$("#comment-content").val())return void iziToast.error({title:"Error",class:"error-toast",message:"Comment cannot be empty!",theme:"dark",backgroundColor:"#AA0808",position:"topCenter",progressBarColor:"white",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutUp"});const n=document.querySelector('button[type="submit"]');n.disabled=!0,n.textContent="Commenting...",document.getElementById("comment-loader").classList.remove("hide");const o=document.getElementById("project-id").value,s=document.getElementById("project-index").value;$.ajax({type:"post",url:`/issues/${o}/discussion/${s}/create-comment`,data:$(this).serialize(),success:function(e){setTimeout((()=>{iziToast.success({title:"Success",message:"Comment added Successfully!",theme:"dark",backgroundColor:"linear-gradient(130deg, rgba(18,119,243,1) 0%, rgba(11,73,149,1) 97%)",position:"topCenter",progressBarColor:"white",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutUp"}),$("#new-comment-form")[0].reset(),n.disabled=!1,n.textContent="Comment",document.getElementById("comment-loader").classList.add("hide"),document.getElementById("comments-ls").innerHTML+=newComment(e.data.comment)}),1500)},error:function(e){console.log(e.responseText)}})}));const newComment=e=>`\n    <div class="comment animate__animated animate__fadeIn">\n        <img src="${e.user.avatar}" alt="">\n\n        <div class="heading">\n            <p class="author-name">${e.user.name}</p>\n            <p class="comment-time">commented just now</p>\n        </div>\n\n        <div class="comment-body">\n            <p class="comment-text">${e.content}</p>\n        </div>\n\n        <div class="vertical-track">\n            \n        </div>\n    </div>\n    `;